# -*- coding: utf-8 -*-
# vim: ft=yaml
# yamllint disable rule:comments-indentation
---
firefly:
  install:
      # Install rootless containers running as dedicated user.
    rootless: true
      # When applying `clean` states, also remove application data.
      # Setting this to true might incur accidental data loss!
    remove_all_data_for_sure: false
    # https://raw.githubusercontent.com/firefly-iii/firefly-iii/main/.env.example
  config:
      # Firefly III supports webhooks. These are security sensitive
      # and must be enabled manually first.
    allow_webhooks: false
    app:
      debug: false
        # You can leave this on "local". If you change it to production most console
        # commands will ask for extra confirmation. Never set it to "testing".
      env: local
        # String of exactly 32 chars or use something like `php artisan key:generate`
        # to generate it. Will be autogenerated if left empty (by Salt).
      key: null
        # debug, info, notice, warning, error, critical, alert, emergency
      log_level: notice
        # Leave as is, unless you like to tinker and know what you're doing
      name: FireflyIII
        # This variable is only used in some of the emails Firefly III sends around.
        # Nowhere else.
      url: http://localhost
      # Set this to "emergency" if you dont want to store audit logs,
      # leave on info otherwise.
    audit_log_level: info
      # https://docs.firefly-iii.org/advanced-installation/authentication
      # 'web' (default, uses built in DB)
      # 'remote_user_guard' for Authelia etc
    authentication_guard: web
      # Remote user guard settings
    authentication_guard_email: null
    authentication_guard_header: REMOTE_USER
      # Leave as is, unless you like to tinker and know what you're doing
    broadcast_driver: log
    cache:
        # If you're looking for performance improvements, you could
        # install memcached or redis
      driver: file
        # Leave as is, unless you like to tinker and know what you're doing
      prefix: firefly
    cookie:
      domain: null
      path: /
        # Setting samesite to "strict" may give you trouble logging in.
      samesite: lax
      secure: false
    custom_logout_url: null
    db:
        # Use "pgsql" for PostgreSQL
        # Use "mysql" for MySQL and MariaDB.
        # Use "sqlite" for SQLite.
      connection: mysql
      database: firefly
      host: db
      password: null
      port: 3306
      socket: null
      username: firefly
    default_language: en_US
      # The locale defines how numbers are formatted.
      # by default this value is the same as whatever the language is.
    default_locale: equal
      # Leave as is, unless you like to tinker and know what you're doing
    demo_password: null
      # Leave as is, unless you like to tinker and know what you're doing
    demo_username: null
      # You can disable the Content Security Policy header when you're using an
      # ancient browser or any version of Microsoft Edge / Internet Explorer
      # (which amounts to the same thing really).
      # This leaves you with the risk of not being able to stop XSS bugs should
      # they ever surface. This is at your own risk.
    disable_csp_header: false
      # You can disable the X-Frame-Options header if it interferes with tools like
      # Organizr. This is at your own risk. Applications running in frames run the risk
      # of leaking information to their parent frame.
    disable_frame_header: false
      # You can fine tune the start-up of a Docker container by editing these
      # environment variables. Use this at your own risk. Disabling certain checks and
      # features may result in lost of inconsistent data. However if you know what
      # you're doing you can significantly speed up container start times.
      # Set each value to true to enable, or false to disable.
      # Set this to true to build all locales supported by Firefly III.
      # This may take quite some time (several minutes) and is generally not
      # recommended. If you wish to change or alter the list of locales, start your
      # container with
      # `docker run -v locale.gen:/etc/locale.gen -e DKR_BUILD_LOCALE=true`
      # and make sure your preferred locales are in your own locale.gen.
    dkr_build_locale: false
      # Check if the SQLite database exists. Can be skipped if you're not using SQLite.
      # Won't significantly speed up things.
    dkr_check_sqlite: true
      # Run database creation and migration commands. Disable this only if you're
      # 100% sure the DB exists and is up to date.
    dkr_run_migration: true
      # When disabled, Firefly III won't attempt to generate OAuth2 Passport keys.
      # This won't be an issue, IFF (if and only if) you had previously generated
      # keys already and they're stored in your database for restoration.
    dkr_run_passport_install: true
      # Run database reporting commands. When disabled, Firefly III won't go over your
      # data to report current state. Disabling this should have no impact on data
      # integrity or safety but it won't warn you of possible issues.
    dkr_run_report: true
      # Run database upgrade commands. Disable this only when you're 100% sure your
      # DB is up-to-date with the latest fixes (outside of migrations!)
    dkr_run_upgrade: true
      # Verify database integrity. Includes all data checks and verifications.
      # Disabling this makes Firefly III assume your DB is intact.
    dkr_run_verify: true
      # Set this value to true if you want to set the location
      # of certain things, like transactions. Since this involves an
      # external service, it's optional and disabled by default.
    enable_external_map: false
      # Leave as is, unless you like to tinker and know what you're doing
    firefly_iii_layout: v1
      # Leave as is, unless you like to tinker and know what you're doing
    ipinfo_token: null
      # Leave as is, unless you like to tinker and know what you're doing
    is_heroku: false
      # The log channel defines where your log entries go to.
      # Several other options exist. You can use 'single' for one
      # big fat error log (not recommended). Also available are
      # 'syslog', 'errorlog' and 'stdout' which will log to the system itself.
      # A rotating log option is 'daily', creates 5 files that (surprise) rotate.
      # A cool option is 'papertrail' for cloud logging
      # Default setting 'stack' will log to 'daily' and to 'stdout' at the same time.
    log_channel: stack
    mail:
      encryption: null
      from: changeme@example.com
      host: null
      mailer: log
      password: null
      port: 2525
      username: null
    mailgun:
      domain: null
        # If you are on EU region in mailgun, use api.eu.mailgun.net,
        # otherwise use api.mailgun.net
      endpoint: api.mailgun.net
      secret: null
    mandrill_secret: null
      # The map will default to this location
    map_default_lat: 51.983333
    map_default_long: 5.916667
    map_default_zoom: 6
    mysql:
      ssl_ca: null
      ssl_capath: /etc/ssl/certs/
      ssl_cert: null
      ssl_cipher: null
      ssl_key: null
      ssl_verify_server_cert: true
      use_ssl: false
      # Used when logging to papertrail
    papertrail:
      host: null
      port: null
    psql:
      schema: public
      ssl_cert: null
      ssl_crl_file: null
      ssl_key: null
      ssl_mode: prefer
      ssl_root_cert: null
      # Leave as is, unless you like to tinker and know what you're doing
    pusher:
      id: null
      key: null
      secret: null
      # Leave as is, unless you like to tinker and know what you're doing
    queue_driver: sync
    redis:
        # Always use quotes and make sure redis db "0" and "1" exists.
        # Otherwise change accordingly.
      cache_db: '1'
      db: '0'
      host: redis
      password: null
        # use only when using 'unix' for REDIS_SCHEME. Leave empty otherwise.
      path: null
      port: 6379
        # can be tcp, unix or http
      scheme: tcp
    send:
      error_message: true
      login_new_ip_warning: true
      registration_mail: true
        # These messages contain (sensitive) transaction information:
      report_journals: true
    session_driver: file
    site_owner: mail@example.com
    sparkpost_secret: null
      # The static cron job token can be useful when you use Docker and
      # wish to manage cron jobs.
      # 1. Set this token to any 32-character value (this is important!).
      # 2. Use this token in the cron URL instead of a user's command line token.
      # see https://docs.firefly-iii.org/firefly-iii/advanced-installation/cron/
      # Will be autogenerated by Salt if left empty.
    static_cron_token: null
      # If you wish to track your own behavior over Firefly III, set valid
      # analytics tracker information here.
      # Nobody uses this except for me on the demo site. But hey, feel free
      # to use this if you want to.
      # Do not prepend the TRACKER_URL with http:// or https://
      # The only tracker supported is Matomo.
    tracker_site_id: null
    tracker_url: null
      # TRUSTED_PROXIES is a useful variable when using Docker and/or a reverse proxy.
      # Set it to ** and reverse proxies work just fine.
    trusted_proxies: []
      # Change this value to your preferred time zone. Example: Europe/Amsterdam
      # For a list of supported time zones, see
      # https://en.wikipedia.org/wiki/List_of_tz_database_time_zones
    tz: Etc/UTC

    # The host port the service will be mapped to
  host_port: 7143

  lookup:
    rootgroup: root
    compose:
      create_pod: null
      pod_args: null
      project_name: firefly
      remove_orphans: true
      service:
        container_prefix: null
        ephemeral: true
        pod_prefix: null
        restart_policy: on-failure
        separator: null
        stop_timeout: null
    paths:
      base: /opt/containers/firefly
      compose: docker-compose.yml
      config_firefly: firefly.env
      config_db: db.env
      config_importer: importer.env
      data: data
      db: db
    user:
      groups: []
      home: null
      name: firefly
      shell: /usr/sbin/nologin
      uid: null
    containers:
      db:
        image: docker.io/library/mariadb
      firefly:
        image: docker.io/fireflyiii/core:latest

  tofs:
      # The files_switch key serves as a selector for alternative
      # directories under the formula files directory. See TOFS pattern
      # doc for more info.
      # Note: Any value not evaluated by `config.get` will be used literally.
      # This can be used to set custom paths, as many levels deep as required.
    files_switch:
      - any/path/can/be/used/here
      - id
      - roles
      - osfinger
      - os
      - os_family

      # All aspects of path/file resolution are customisable using the options below.
      # This is unnecessary in most cases; there are sensible defaults.
      # Default path: salt://< path_prefix >/< dirs.files >/< dirs.default >
      # I.e.: salt://firefly/files/default
      # path_prefix: template_alt
      # dirs:
      #   files: files_alt
      #   default: default_alt
      # The entries under `source_files` are prepended to the default source files
      # given for the state
    source_files:
      Firefly III compose file is managed:
        - docker-compose_alt.yml
        - docker-compose_alt.yml.j2
      firefly environment file is managed:
        - firefly_alt.env
        - firefly_alt.env.j2
      db environment file is managed:
        - db_alt.env
        - db_alt.env.j2
      importer environment file is managed:
        - importer_alt.env
        - importer_alt.env.j2
